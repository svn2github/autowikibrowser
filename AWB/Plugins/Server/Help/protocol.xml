<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
	<title>AWB Server Protocol</title>
	<meta name="copyright" content="© 2008 Stephen Kennedy" />
	<link rel="stylesheet" type="text/css" href="res/style.css" />
</head>
<body>
<p>This document details the protocol implemented by the <a href="main.html">AWB Server plugin</a>. Some proof-of-concept clients are also included in the AWB repository; patches and entirely new clients are <a href="http://en.wikipedia.org/wiki/Wikipedia_talk:AutoWikiBrowser/Dev">warmly welcomed</a>.</p>
<p>This document was prepared on 10 May 2008 and covers protocol version 0.1.</p>

<h1><a name="Handshake">Handshake</a></h1>
<p>Upon receiving a connection the server replies <a href="#HELLO" class="prot">200 HELLO</a> if it is able to accept a connection or <a href="#BUSY" class="prot">500 BUSY</a> if not.</p>
<p>If authentication and/or encryption is required, the server will also send one or more <a href="#REQUIRE" class="prot">201 REQUIRE</a> challenges.</p>

<h1>Commands</h1>
<dl>
	<dt><a name="BYE" class="prot">BYE</a></dt>
	<dd>Tells the server to end the session.</dd>

	<dt><a name="OK" class="prot">FORCE</a></dt>
	<dd><span class="prot">FORCE LOGIN</span>: If (and only if) the server greeted the client with <a href="#BUSY" class="prot">500 BUSY</a>, the client may tell the server that it wishes to forceably login and disconnect the currently logged in user/session. <a href="#Handshake">Handshaking</a> will continue as normal.</dd>
</dl>

<h1>Server response codes</h1>
<dl>
	<dt class="awb"><a name="HELLO" class="prot">200 HELLO</a></dt>
	<dd>The server is ready to accept a connection. See "<a href="#Handshake">Handshake</a>" for more information.</dd>

	<dt><a name="REQUIRE" class="prot">201 REQUIRE</a></dt>
	<dd><span class="prot">REQUIRE RSA</span>:</dd>

	<dt><a name="OK" class="prot">250 OK</a></dt>
	<dd>The request or data sent by the client was received and processed by the server without error.</dd>

	<dt><a name="OK" class="prot">500 BUSY</a></dt>
	<dd>A user is already logged into the server. To force their disconnection the client may send a <a href="#FORCE" class="prot">FORCE LOGIN</a> command. Otherwise, the client should end the connection by disconnecting or sending <a href="#FORCE" class="prot">BYE</a>.</dd>

	<dt><a name="501" class="prot">501 &lt;reason&gt;</a></dt>
	<dd>The command failed or could not be accepted because of &lt;reason&gt;.</dd>
</dl>

<h1>Ending the session</h1>
<p>The client may simply disconnect by closing the TCP/IP connection although it is preferred for the client to send <a href="#FORCE" class="prot">BYE</a>.</p>

<hr />
<p><small>© 2008, <a href="http://www.sdk-software.com/" target="_blank">Stephen Kennedy</a>/AWB team</small></p>
<p>
	<img style="border:0;width:44px;height:16px"
		src="http://jigsaw.w3.org/css-validator/images/vcss"
		alt="Valid CSS!" />
    <img
		src="http://www.w3.org/Icons/valid-xhtml10"
		alt="Valid XHTML 1.0 Transitional" height="16" width="44" />

</p>
</body>
</html>